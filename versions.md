# История версий WebToMarkdown

## Схема версионирования

Приложение использует **Semantic Versioning (SemVer)** в формате `MAJOR.MINOR.PATCH`:

- **MAJOR** - несовместимые изменения API, крупные архитектурные изменения
- **MINOR** - новая функциональность (обратная совместимость)
- **PATCH** - исправления багов, мелкие улучшения (обратная совместимость)

## Схема versionCode

Для Google Play Store используется `versionCode` - целое число, которое должно увеличиваться с каждым релизом:

```
versionCode = MAJOR * 10 + MINOR * 10 + PATCH
```

Примеры:
- 1.0.0 → versionCode = 10
- 1.1.0 → versionCode = 11
- 1.2.1 → versionCode = 13
- 2.0.0 → versionCode = 20

## История версий

### Версия 1.6.0 (текущая) - 23.08.2025
- **versionCode**: 19
- **versionName**: "1.6.0"
- **Изменения**: Доработка и улучшение UI
  - Заменена иконка меню на более подходящую (Settings)
  - Добавлены иконки к кнопкам в нижней панели
  - Добавлены анимации переходов между экранами
  - Добавлены анимации появления/исчезновения элементов
  - Добавлена кнопка "Вставить из буфера обмена"
  - Добавлены анимации кнопок при нажатии
  - Добавлены Toast-сообщения о статусе операций
  - Добавлены уведомления о завершении обработки
  - Исправлена обработка кнопки "назад" в настройках

### Версия 1.5.2 - 23.08.2025
- **versionCode**: 18
- **versionName**: "1.5.2"
- **Изменения**: Исправлена ошибка сохранения настроек приложения между сессиями

### Версия 1.5.1 - 23.08.2025
- **versionCode**: 17
- **versionName**: "1.5.1"
- **Изменения**: Улучшение меню настроек

### Версия 1.5.0 - 23.08.2025
- **versionCode**: 16
- **versionName**: "1.5.0"
- **Изменения**: Добавлено скачивание и сохранение изображений вместе с заметкой

### Версия 1.4.0 - 21.08.2025
- **versionCode**: 15
- **versionName**: "1.4.0"
- **Изменения**: Добавлено получение и обработка ссылок из браузера через меню "Поделиться"

### Версия 1.3.0 - 21.08.2025
- **versionCode**: 14
- **versionName**: "1.3.0"
- **Изменения**: Доработка интерфейса

### Версия 1.2.1 - 21.08.2025
- **versionCode**: 13
- **versionName**: "1.2.1"
- **Изменения**: 
  - Обновление библиотек, Kotlin, JDK и инструментов сборки
  - Исправление ошибок в WebContentProcessor.kt
  - Upgrade AGP dependency from 8.12.0 to 8.12.1

### Версия 1.2.0 - 20-21.08.2025
- **versionCode**: 12
- **versionName**: "1.2.0"
- **Изменения**: Рефакторинг архитектуры
  - Логика обработки текстового содержимого вынесена в WebContentProcessor.kt
  - Логика сохранения файла вынесена в FileSaveHandler.kt
  - Логика скачивания веб-страницы вынесена в WebDownloader.kt
  - Оптимизировано взаимодействие между компонентами

### Версия 1.1.0 - 20.08.2025
- **versionCode**: 11
- **versionName**: "1.1.0"
- **Изменения**: Добавление базового функционала
  - Добавлен Splash Screen
  - Добавлены настройки сохранения (enum FileNameOption и SaveLocationOption)
  - Добавлена кнопка "Очистить" в главном меню

### Версия 1.0.0 - 18.08.2025
- **versionCode**: 10
- **versionName**: "1.0.0"
- **Изменения**: Первый релиз
  - Базовая функциональность приложения
  - Главное меню
  - Сохранение файлов
  - Комментарии

## Правила для будущих обновлений

### Когда увеличивать MAJOR версию (1.x.x → 2.0.0):
- Крупные изменения архитектуры
- Удаление важных функций
- Несовместимые изменения API
- Полная переработка интерфейса

### Когда увеличивать MINOR версию (1.1.x → 1.2.0):
- Добавление новых функций
- Улучшения интерфейса
- Новые возможности
- Рефакторинг кода

### Когда увеличивать PATCH версию (1.1.1 → 1.1.2):
- Исправления багов
- Мелкие улучшения
- Обновления зависимостей
- Исправления безопасности

## Как обновить версию

1. Откройте файл `app/build.gradle.kts`
2. Найдите блок `defaultConfig`
3. Обновите `versionCode` и `versionName`
4. Сделайте коммит с сообщением вида: "Версия 1.5.3 - [описание изменений]"

### Пример обновления:

```kotlin
defaultConfig {
    applicationId = "com.jack3995.webtomarkdown"
    minSdk = 26
    targetSdk = 36
    versionCode = 19  // Увеличиваем на 1
    versionName = "1.5.3"  // Новая версия
    
    testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
}
```

## Полезные команды Git

```bash
# Посмотреть историю коммитов
git log --oneline

# Посмотреть коммиты с датами
git log --pretty=format:"%h - %an, %ar : %s"

# Создать тег для версии
git tag -a v1.5.2 -m "Версия 1.5.2"
git push origin v1.5.2
```
